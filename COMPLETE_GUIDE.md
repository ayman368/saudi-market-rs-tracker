# ๐ ุดุฑุญ ุดุงูู: TradingView vs ุงููููุน ูุงููุฑู ุจูู Performance ู RS

## ๐ฏ ุงููุฏู ูู ุงููุดุฑูุน:
**ุญุณุงุจ Relative Strength (RS) ููุฃุณูู ุงูุณุนูุฏูุฉ ุฒู ูููุฌูุฉ IBD (Investor's Business Daily)**

---

## ๐ 1. ุงููุฑู ุจูู Performance % ู RS Percentile

### **A. Performance % (ุงูุฃุฏุงุก ุงููุณุจู)**
**ุงูุชุนุฑูู:** ููุงุฑูุฉ ุฃุฏุงุก ุงูุณูู ูุน ุงููุคุดุฑ ุงูุนุงู (TASI)

**ุงููุนุงุฏูุฉ:**
```
Performance % = [(ุงูุณูู / TASI) - 1] ร 100
```

**ูุซุงู:**
- ุงูุณูู ุตุนุฏ **10%** ูู 3 ุดููุฑ
- TASI ุตุนุฏ **7%** ูู ููุณ ุงููุชุฑุฉ
- Performance = [(1.10 / 1.07) - 1] ร 100 = **+2.8%**

**ุงููุงุฆุฏุฉ:** ููููู ุงูุณูู **ุฃุญุณู ุฃู ุฃุณูุฃ ูู ุงูุณูู ุจูุงู %**

---

### **B. RS Percentile (ุงูุชุตููู ุงููุณุจู)**
**ุงูุชุนุฑูู:** ุชุฑุชูุจ ุงูุณูู ุจูู **ูู** ุงูุฃุณูู (ูู 1 ุฅูู 99)

**ุงูุทุฑููุฉ:**
1. ุงุญุณุจ Performance ูู **ูู ุงูุฃุณูู** (283 ุณูู)
2. ุฑุชุจูู ูู ุงูุฃุถุนู ููุฃููู
3. ุงูุณูู ุงููู ูู ุงูููุชุตู = RS 50
4. ุงูุณูู ูู ุฃุนูู 1% = RS 99
5. ุงูุณูู ูู ุฃุณูู 1% = RS 1

**ูุซุงู:**
- ูู ุงูุณูู Performance = +2.8%
- ูุฏุง ุฃุญุณู ูู **83%** ูู ุงูุฃุณูู
- ูุจูู RS = **83**

**ุงููุงุฆุฏุฉ:** ููููู ุงูุณูู **ุชุฑุชูุจู ูุงู ูู 100 ุจูู ูู ุงูุฃุณูู**

---

## ๐ด 2. TradingView - ุฅูู ุงููู ูููุน ูุฅูู ุงููู ููููุนุดุ

### โ **ุงููู ูููุน ูู TradingView:**

#### **1. RS Line (ุงูุฎุท ุงูุฃุฒุฑู)**
```pine
rs = (close / TASI_close) ร offset
```
- โ ุจูุชุญุฏุซ **ูุญุธูุงู** ูุน ูู ุดูุนุฉ
- โ Real-time
- โ ููุงุฑู ุงูุณูู ุจุงููุคุดุฑ ูุจุงุดุฑุฉ

#### **2. Performance % (Table ููู)**
```pine
perf3M = [(ุงูุณูู[ุงูุขู] / ุงูุณูู[63 ููู ูุงุช]) / 
          (TASI[ุงูุขู] / TASI[63 ููู ูุงุช]) - 1] ร 100
```
- โ ุจูุญุณุจ ูู **ุงูุฃุณุนุงุฑ** ูุจุงุดุฑุฉ
- โ Real-time
- โ ูุง ูุญุชุงุฌ ุจูุงูุงุช ุฎุงุฑุฌูุฉ

#### **3. RS Rating (ุงูุฑูู)**
**ููุง ุงููุดููุฉ! โ๏ธ**

**ุงูุทุฑููุฉ ุงูุตุญูุญุฉ:**
1. ุฌูุจ Performance ูู **ูู ุงูุฃุณูู ุงูุณุนูุฏูุฉ** (283 ุณูู)
2. ุฑุชุจูู
3. ุดูู ุงูุณูู ุจุชุงุนู ุชุฑุชูุจู ูุงู

**ูู TradingView:**
- โ **ูุด ูููู** ุชุฌูุจ ุจูุงูุงุช ูู ุงูุฃุณูู ูู ููุณ ุงูููุช
- โ **ูุด ูููู** ุชูุฑุฃ ูู ููู CSV
- โ **ูุด ูููู** ุชุนูู ranking ุฏููุงูููู

**ุงูุญู ุงูุจุฏูู (ุงููู ุนูููุงู):**
```pine
// ูุณุชุฎุฏู Thresholds ูุญููุธุฉ (Calibrated)
if totalRsScore >= 148.41:
    totalRsRating = 99
else if totalRsScore >= 117.11:
    totalRsRating = 90-98
...
```

**ุงููุดููุฉ:**
- โ **ุดุบุงู** ููุฏู ูุชูุฌุฉ ูุฑูุจุฉ
- โ๏ธ **ุชูุฏูุฑู** - ูุด ุฏููู 100%
- โ๏ธ ูุญุชุงุฌ **ุชุญุฏูุซ ุงูุซุฑูุดููุฏุฒ ูุฏููุงู** ูู ูุชุฑุฉ

---

### โ **ุงููู ููููุนุด ูู TradingView:**

1. **ูุฑุงุกุฉ CSV files** โ
   - TradingView ูุด ุจููุฏุฑ ููุฑุฃ ูู ูููุงุชู
   
2. **Dynamic Multi-Stock Analysis** โ
   - ูุด ุจููุฏุฑ ูุญูู ูู ุงูุฃุณูู ูู ููุณ ุงูููุช ููุฑุชุจูู

3. **Database Access** โ
   - ูุด ุจููุฏุฑ ูุชุตู ุจูุงุนุฏุฉ ุจูุงูุงุช

4. **API Calls** โ
   - ูุด ุจููุฏุฑ ูุณุชุฏุนู APIs ุฎุงุฑุฌูุฉ

---

## ๐ 3. ุงููููุน - ุฅูู ุงููู ูููุน ูุฅูู ุงููู ููููุนุดุ

### โ **ุงููู ูููุน ูู ุงููููุน:**

#### **1. RS Percentile ุงูุฏููู**
```python
# ูู recalculate_rs.py
df_pivot['RS'] = df_pivot['WeightedPerf'].rank(pct=True) * 99 + 1
```
- โ **ุฏููู 100%** - ุจูุญุณุจ ูู ูู ุงูุฃุณูู
- โ **Ranking ุญูููู** - ูุด ุชูุฏูุฑู
- โ ูุญูุธ ุงููุชุงูุฌ ูู CSV

#### **2. Historical Data**
```python
# ุจูุญูุธ ูู RS ูููุชุฑุงุช ุงููุฎุชููุฉ
RS_1Year, RS_9Months, RS_6Months, RS_3Months, RS
```
- โ **ุฃุฑุดูู ูุงูู**
- โ **ููุงุฑูุงุช ุชุงุฑูุฎูุฉ**

#### **3. Batch Processing**
```python
# ูุญูู ูู ุงูู 283 ุณูู ูู ููุช ูุงุญุฏ
for stock in all_stocks:
    calculate_rs(stock)
```
- โ **ููุงุกุฉ ุนุงููุฉ**

#### **4. Filtering & Screening**
```javascript
// ูู charts.html
filterStocks(80, 100) // Top stocks
```
- โ **Filters ูุชูุฏูุฉ**
- โ **Search**
- โ **Tables**

---

### โ **ุงููู ููููุนุด ูู ุงููููุน:**

1. **Real-time Updates** โ
   - ุงููููุน ุจูุชุญุฏุซ **ูุฑุฉ ูุงุญุฏุฉ ููููุงู** ููุท
   - TradingView ุจูุชุญุฏุซ **ูู ุซุงููุฉ**

2. **Intraday Analysis** โ
   - ุงููููุน ูุดุชุบู ุนูู **End-of-Day** data
   - TradingView ุจูุดูู ูู ุดูุนุฉ

3. **Live Trading Integration** โ
   - ูุด ูุชุตู ุจููุตุงุช ุงูุชุฏุงูู

---

## ๐ 4. ุฅุญูุง ุนูููุง ุฅูู ุจุงูุธุจุทุ

### **A. ุงููููุน (Website):**

#### **1. Scraping (`saudi_exchange_scraper.py`):**
```python
# ูู ููู ุงูุณุงุนุฉ 4 ูุณุงุกู
- ููุดุท ุจูุงูุงุช ูู ูููุน ุชุฏุงูู
- ูุญูุธ: Company, Symbol, Change %, Close
- Output: saudiexchange_results.csv
```

#### **2. RS Calculation (`recalculate_rs.py`):**
```python
# ูุญุณุจ RS ุจู 3 ุฎุทูุงุช:

# ุฎุทูุฉ 1: Weighted Performance
weighted_perf = 0.4รChange_3M + 0.2รChange_6M + 
                0.2รChange_9M + 0.2รChange_1Y

# ุฎุทูุฉ 2: Ranking
RS = rank(weighted_perf) ูู 1 ุฅูู 99

# ุฎุทูุฉ 3: Thresholds ููู TradingView
percentile_99 = score ุนูุฏ 99%
percentile_90 = score ุนูุฏ 90%
...
```

#### **3. Display (`index.html` & `charts.html`):**
```javascript
// ุงูุนุฑุถ
- Table: ูู ุงูุฃุณูู ูุน RS
- Charts: RS Trend
- Filters: ุญุณุจ RS (80+, 50+, etc)
```

---

### **B. TradingView (`saudi_rs_rating.pine`):**

#### **1. RS Line:**
```pine
// ุฎุท ููุงุฑู ุงูุณูู ุจู TASI
rs = (close / TASI_close) ร offset
plot(rs)
```

#### **2. Performance % Table:**
```pine
// Table ูุนุฑุถ ุงูุฃุฏุงุก ุงููุณุจู
perf3M = (stock_perf / TASI_perf - 1) ร 100
table.cell(rsTable, 1, 1, perf3M + "%")
```

#### **3. RS Rating (ุชูุฏูุฑู):**
```pine
// ุจุงุณุชุฎุฏุงู Thresholds ูู ุงููููุน
if totalRsScore >= 148.41:  // ูู recalculate_rs.py
    totalRsRating = 99
```

---

## ๐ 5. ุฌุฏูู ุงูููุงุฑูุฉ ุงูุดุงูู

| ุงูููุฒุฉ | TradingView | ุงููููุน |
|--------|-------------|--------|
| **Real-time** | โ ูู ุซุงููุฉ | โ ูุฑุฉ ููููุงู |
| **Accurate RS** | โ๏ธ ุชูุฏูุฑู | โ ุฏููู 100% |
| **Performance %** | โ ูุญุธู | โ ูููู |
| **RS Line** | โ | โ |
| **Screening** | โ | โ |
| **Historical** | ูุญุฏูุฏ | โ ูุงูู |
| **Multi-Stock** | โ | โ |
| **Intraday** | โ | โ |

---

## ๐ฏ 6. ูุชู ุชุณุชุฎุฏู ุฃููุ

### **ุงุณุชุฎุฏู TradingView ูู:**
```
โ Trading ูุญุธู
โ ูุชุงุจุนุฉ RS Line ูู ุงูู chart
โ ุดูู ุงูุณูู ุฃุญุณู ุฃู ุฃุณูุฃ ูู TASI ุจูุงู %
โ ุฑุณููุงุช ุจูุงููุฉ ูุชุญููู ููู
```

### **ุงุณุชุฎุฏู ุงููููุน ูู:**
```
โ RS Rating ุงูุฏููู (1-99)
โ Screening ูููุชุฑุฉ ุงูุฃุณูู
โ ููุงุฑูุฉ ุชุงุฑูุฎูุฉ (1Y, 9M, 6M, 3M)
โ ุฌุฏุงูู ููุฑุงุฌุนุฉ ููููุฉ
โ ุงูุจุญุซ ุนู ุฃููู ุงูุฃุณูู
```

---

## ๐ก 7. ููู ุงููุฑู ูู ุงูุฃุฑูุงูุ

### **ูุซุงู: ALRAJHI**

**TradingView:**
- RS Rating: **68**
- ูุตุฏุฑ: Thresholds ุชูุฏูุฑูุฉ

**ุงููููุน:**
- RS: **84**
- ูุตุฏุฑ: Ranking ุญูููู ูู 283 ุณูู

**ุงูุณุจุจ:**
```
1. ุงููููุน: ููุงุฑู ุจู 283 ุณูู ูุนููุงู โ
2. TradingView: ููุงุฑู ุจู thresholds ุซุงุจุชุฉ โ๏ธ
3. ุงูุซุฑูุดููุฏุฒ ูุฏ ุชููู ูุฏููุฉ
4. ุชูููุช ุงูุจูุงูุงุช ูุฎุชูู
```

---

## ๐ง 8. ุงูุญู ุงูุฃูุซู

### **ููุญุตูู ุนูู ุฃูุถู ุงููุชุงุฆุฌ:**

1. **ูู ููู ุจุนุฏ ุงูุฅุบูุงู (3 ูุณุงุกู):**
   ```bash
   # ุดุบูู ุงูู Scraper
   py saudi_exchange_scraper.py
   
   # ุงุญุณุจ RS
   py recalculate_rs.py
   
   # ุดูู ุงููุชุงุฆุฌ ุนูู ุงููููุน
   open charts.html
   ```

2. **ุงูุฑูู ุงููู ุชุนุชูุฏ ุนููู:**
   - **ุงููููุน**: ููู RS ุงูุฏููู
   - **TradingView**: ูููุชุงุจุนุฉ ุงููุญุธูุฉ ููุท

3. **ุชุญุฏูุซ TradingView Thresholds:**
   ```
   ูู ุฃุณุจูุน ุฃู ุดูุฑ:
   1. ุดูู saudiexchange_rs_analysis_tv_thresholds.txt
   2. ุงูุณุฎ ุงูููู
   3. ุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช ูู TradingView
   ```

---

## โ ุงูุฎูุงุตุฉ

### **ุนูููุง:**
1. โ ูููุน ูุงูู ูุญุณุงุจ RS ุงูุฏููู
2. โ TradingView indicator ูููุชุงุจุนุฉ ุงููุญุธูุฉ
3. โ ูุธุงู ูุชุญุฏุซ ุชููุงุฆูุงู ูู ููู
4. โ Thresholds calibrated ูู ุงูุณูู ุงูุญูููู

### **ุงูุงุณุชุฎุฏุงู ุงูุตุญูุญ:**
- **ููู Screening**: ุงุณุชุฎุฏู ุงููููุน
- **ููู Trading**: ุงุณุชุฎุฏู TradingView
- **ููุฏูุฉ**: ุงุนุชูุฏ ุนูู ุงููููุน
- **ููุณุฑุนุฉ**: ุงุนุชูุฏ ุนูู TradingView

**ุงููุธุงููู ูููููุง ุจุนุถ! ๐**
